! Cisco Switch Best Practices Configuration Example
! This configuration is for a generic Cisco IOS switch (e.g., Catalyst 2960/3750 series).
! It includes 15 VLANs (VLAN 10-24), assigned to access ports Gi1/0/1 to Gi1/0/15.
! Trunk ports on Gi1/0/23-24, with allowed VLANs restricted.
! Management VLAN: 100 (separate from native VLAN 999, which is unused).
! Best practices incorporated: VTP transparent, native VLAN changed, unused ports shutdown,
! portfast and BPDU guard on access ports, trunk negotiation disabled, VLAN pruning.
! Assumes a 24-port switch; adjust interfaces as needed.
! Sources for best practices: Practical Networking [web:0 from second search, but actually web:21], Spiceworks Guide , Packet Passers .

enable
configure terminal

! Set hostname
hostname BestPracticeSwitch

! Enable password encryption and strong enable secret
service password-encryption
enable secret BestPracticeEnableSecret

! Disable unnecessary services
no ip http server
no ip http secure-server
no service pad
no ip domain-lookup

! Set VTP to transparent mode (VLANs appear in running-config)
vtp mode transparent

! Create management VLAN
vlan 100
 name Management
 exit

! Create unused/native VLAN (for security, not assigned to any ports)
vlan 999
 name Unused-Native
 state suspend  ! Suspend to prevent accidental use
 exit

! Create 15 user VLANs with names
vlan 10
 name Department-1
 exit
vlan 11
 name Department-2
 exit
vlan 12
 name Department-3
 exit
vlan 13
 name Department-4
 exit
vlan 14
 name Department-5
 exit
vlan 15
 name Department-6
 exit
vlan 16
 name Department-7
 exit
vlan 17
 name Department-8
 exit
vlan 18
 name Department-9
 exit
vlan 19
 name Department-10
 exit
vlan 20
 name Department-11
 exit
vlan 21
 name Department-12
 exit
vlan 22
 name Department-13
 exit
vlan 23
 name Department-14
 exit
vlan 24
 name Department-15
 exit

! Configure switch management IP (in VLAN 100)
interface vlan 100
 ip address 192.168.100.1 255.255.255.0
 no shutdown
 exit

! Default gateway (if Layer 2 switch)
ip default-gateway 192.168.100.254

! Enable spanning-tree rapid-pvst (better than default PVST)
spanning-tree mode rapid-pvst

! Configure access ports (assign to VLANs 10-24)
interface range GigabitEthernet1/0/1 - 15
 switchport mode access
 switchport nonegotiate  ! Disable DTP for security
 spanning-tree portfast  ! For faster convergence on edge ports
 spanning-tree bpduguard enable  ! Protect against STP attacks
 exit

! Assign specific VLANs to ports
interface GigabitEthernet1/0/1
 switchport access vlan 10
 exit
interface GigabitEthernet1/0/2
 switchport access vlan 11
 exit
interface GigabitEthernet1/0/3
 switchport access vlan 12
 exit
interface GigabitEthernet1/0/4
 switchport access vlan 13
 exit
interface GigabitEthernet1/0/5
 switchport access vlan 14
 exit
interface GigabitEthernet1/0/6
 switchport access vlan 15
 exit
interface GigabitEthernet1/0/7
 switchport access vlan 16
 exit
interface GigabitEthernet1/0/8
 switchport access vlan 17
 exit
interface GigabitEthernet1/0/9
 switchport access vlan 18
 exit
interface GigabitEthernet1/0/10
 switchport access vlan 19
 exit
interface GigabitEthernet1/0/11
 switchport access vlan 20
 exit
interface GigabitEthernet1/0/12
 switchport access vlan 21
 exit
interface GigabitEthernet1/0/13
 switchport access vlan 22
 exit
interface GigabitEthernet1/0/14
 switchport access vlan 23
 exit
interface GigabitEthernet1/0/15
 switchport access vlan 24
 exit

! Shutdown unused ports (Gi1/0/16-22) and assign to unused VLAN
interface range GigabitEthernet1/0/16 - 22
 switchport mode access
 switchport access vlan 999
 shutdown
 exit

! Configure trunk ports (e.g., to other switches/routers)
interface range GigabitEthernet1/0/23 - 24
 switchport trunk encapsulation dot1q  ! Use 802.1Q
 switchport mode trunk
 switchport trunk native vlan 999  ! Change native from VLAN 1
 switchport trunk allowed vlan 10-24,100  ! Prune to only necessary VLANs
 switchport nonegotiate  ! Disable DTP
 exit

! Additional security: Storm control on access ports (optional, add to interface range if needed)
! storm-control broadcast level 20.00
! storm-control multicast level 20.00

! Banner for unauthorized access warning
banner motd ^
*** WARNING: Unauthorized access is prohibited and will be prosecuted. ***
^

! End configuration
end
write memory